"use strict";(self.webpackChunkpropovoice=self.webpackChunkpropovoice||[]).push([[2566],{95677:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(86854),r=n(67294),s=n(78760),a=n(85893);const o=function(e){var t=(0,r.useRef)(),n=(0,r.useState)(!1),o=(0,i.Z)(n,2),c=(o[0],o[1]),l=(0,r.useCallback)((function(){return c(!1)}),[]);return(0,s.Z)(t,l),(0,a.jsxs)("div",{className:"pi-table-action pi-mb-10",children:[(0,a.jsxs)("div",{className:"pi-checkbox-field pi-mt-6",children:[(0,a.jsx)("input",{type:"checkbox",defaultChecked:!0,onChange:function(){return e.uncheckAll()}}),(0,a.jsxs)("span",{children:[e.length," Items Selected"]})]}),(0,a.jsx)("div",{className:"pi-small-button-group",children:(0,a.jsx)("button",{className:"pi-btn pi-btn-small pi-bg-stroke pi-bg-shadow pi-bg-hover-shadow",onClick:function(){return e.deleteEntry("selected")},children:"Delete"})})]})}},58452:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(86854),r=n(67294),s=n(73077),a=n(78760),o=n(85893);const c=(0,s.Z)((function(e){var t=(0,r.useRef)(),n=(0,r.useState)(!1),s=(0,i.Z)(n,2),c=(s[0],s[1]),l=(0,r.useCallback)((function(){return c(!1)}),[]);(0,a.Z)(t,l),(0,r.useEffect)((function(){}),[]);return(0,o.jsxs)("div",{className:"pi-list-single-button-content",children:[(0,o.jsxs)("button",{className:"pi-btn pi-btn-medium pi-bg-blue pi-bg-hover-blue pi-bg-shadow pi-color-white",onClick:function(){return e.openForm("new")},children:[(0,o.jsxs)("svg",{width:14,height:12,viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M2.5 8H13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M8 2.5V13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Add ",e.title]}),!1]})}))},36373:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(85893);const r=function(e){return(0,i.jsx)("nav",{className:"pi-breadcrumb",children:(0,i.jsxs)("ul",{className:"",children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",className:"",children:ndpi.i18n.home})}),(0,i.jsx)("li",{children:(0,i.jsx)("svg",{width:5,height:10,viewBox:"0 0 5 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M0.5 1.25L4.25 5L0.5 8.75",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,i.jsx)("li",{className:"pi-active",children:e.title})]})})}},21619:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(85893);const r=function(e){var t=e.title,n=e.clickHandler,r=e.searchVal;e.logo;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"pi-empty-content pi-text-center",children:[(0,i.jsxs)("svg",{width:"77",height:"76",viewBox:"0 0 77 76",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M61.8594 1.30469V14.8447H75.3985L61.8594 1.30469Z",fill:"#4C6FFF",fillOpacity:"0.5"}),(0,i.jsx)("path",{d:"M59.6328 19.2969C58.4032 19.2969 57.4062 18.3 57.4062 17.0703V0H25.4922C21.809 0 18.8125 2.99651 18.8125 6.67969V31.571C19.5461 31.5045 20.2884 31.4688 21.0391 31.4688C28.6284 31.4688 35.4222 34.9386 39.9182 40.375H64.0859C65.3156 40.375 66.3125 41.3719 66.3125 42.6016C66.3125 43.8312 65.3156 44.8281 64.0859 44.8281H42.8517C44.2434 47.5439 45.1409 50.5526 45.429 53.7344H64.0859C65.3156 53.7344 66.3125 54.7313 66.3125 55.9609C66.3125 57.1906 65.3156 58.1875 64.0859 58.1875H45.429C44.7631 65.5409 40.8342 71.9664 35.1047 76H70.0234C73.7066 76 76.7031 73.0035 76.7031 69.3203V19.2969H59.6328ZM64.0859 31.4688H31.4297C30.2 31.4688 29.2031 30.4718 29.2031 29.2422C29.2031 28.0125 30.2 27.0156 31.4297 27.0156H64.0859C65.3156 27.0156 66.3125 28.0125 66.3125 29.2422C66.3125 30.4718 65.3156 31.4688 64.0859 31.4688Z",fill:"#4C6FFF"}),(0,i.jsx)("circle",{cx:"20",cy:"56",r:"20",fill:"#A5B7FF"}),(0,i.jsx)("path",{d:"M17.9091 67.6136V45.1136H21.7273V67.6136H17.9091ZM8.56818 58.2727V54.4545H31.0682V58.2727H8.56818Z",fill:"white"})]}),!r.length&&(0,i.jsxs)("h2",{className:"pi-empty-title",children:["You haven't  ","Client"==t?"added":"created"," any ",t," yet."]}),r.length>0&&(0,i.jsxs)("h2",{className:"pi-empty-title",children:["No ",t," found by your search query."]}),(0,i.jsxs)("button",{className:"pi-btn pi-bg-blue pi-bg-hover-blue",onClick:function(){return n("new")},children:[(0,i.jsxs)("svg",{width:14,height:12,viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M2.5 8H13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M8 2.5V13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Let's Start ","Client"==t?"Adding":"Creating"]})]})})}},30407:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(11358),r=n.n(i),s=n(85893);const a=function(e){return(0,s.jsx)("div",{className:"pi-pagination-content",children:(0,s.jsx)(r(),{previousClassName:"pi-previous",nextClassName:"pi-next",disabledClassName:"pi-disabled",previousLabel:(0,s.jsx)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M7.5 12.833L1.667 7 7.5 1.167",stroke:"#E2E8F0",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),nextLabel:(0,s.jsx)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M1.5 12.833L7.333 7 1.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),breakLabel:(0,s.jsx)("svg",{width:15,height:15,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12a2 2 0 10-4 0 2 2 0 004 0zM14 12a2 2 0 10-4 0 2 2 0 004 0zM21 12a2 2 0 10-4 0 2 2 0 004 0z",fill:"#718096"})}),breakClassName:"break",forcePage:e.forcePage,pageCount:e.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e.onPageChange,containerClassName:"pi-pagination",activeClassName:"pi-active"})})}},42183:(e,t,n)=>{n.r(t),n.d(t,{default:()=>de});var i=n(86854),r=n(15671),s=n(43144),a=n(97326),o=n(60136),c=n(82963),l=n(61120),d=n(4942),h=n(67294),p=n(72132),u=n(96974),f=n(12754),m=n(58452),v=n(95677),j=n(36373),x=n(30407),g=n(29086),y=n(70941),b=n(9669),k=n.n(b),w=n(20915),C=w.JW+"actions";const O=function(e){return k().post(C,e,w.r)},Z=function(e,t){return k().put("".concat(C,"/").concat(e),t,w.r)};var N=n(94803),P=n.n(N),_=n(55983),S=n(85893);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}const R=function(e){(0,o.Z)(n,e);var t=D(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,d.Z)((0,a.Z)(i),"handleChange",(function(e){var t=e.target,n=t.name,r=t.value;i.setState({form:M(M({},i.state.form),{},(0,d.Z)({},n,r))})})),(0,d.Z)((0,a.Z)(i),"handleUploadChange",(function(e){var t=M({},i.state.form);t.attachment=e,i.setState({form:t})})),i.state={form:{}},i}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.data;return(0,S.jsx)("div",{className:"pi-overlay pi-show",children:(0,S.jsxs)("div",{className:"pi-modal-content",children:[(0,S.jsxs)("div",{className:"pi-modal-header pi-gradient",children:[(0,S.jsx)("span",{className:"pi-close",onClick:function(){return e.props.close()},children:(0,S.jsxs)("svg",{width:25,height:25,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,S.jsx)("h2",{className:"pi-modal-title",children:"Feedback"}),(0,S.jsx)("p",{children:"Here is the client feedback"})]}),(0,S.jsx)("div",{className:"pi-content",children:(0,S.jsxs)("div",{className:"pi-form-style-one",children:[(0,S.jsx)("div",{className:"row",children:(0,S.jsxs)("div",{className:"col-lg",children:[(0,S.jsx)("label",{htmlFor:"form-note",children:"Additional Note"}),(0,S.jsx)("textarea",{id:"form-note",rows:2,name:"note",value:t.feedback.note,onChange:this.handleChange})]})}),(0,S.jsx)("div",{className:"row",children:(0,S.jsxs)("div",{className:"col-md",children:[(0,S.jsx)("label",{htmlFor:"field-receipt",children:"Additional Attachment"}),(0,S.jsx)(_.Z,{label:"Upload",attach_type:"secret",library:!1,data:t.feedback.attachment,changeHandler:this.handleUploadChange,remove:!1})]})})]})}),(0,S.jsx)("div",{className:"pi-modal-footer"})]})})}}]),n}(h.Component);n(78760);var B=w.JW+"payment-process";const E=function(e){return k().post(B,e,w.r)};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}const I=function(e){(0,o.Z)(n,e);var t=H(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,d.Z)((0,a.Z)(i),"handleChange",(function(e){var t=e.target,n=t.name,r=t.value;i.setState({form:F(F({},i.state.form),{},(0,d.Z)({},n,r))})})),(0,d.Z)((0,a.Z)(i),"handleSubmit",(function(e){e.preventDefault();var t=F({},i.state.form);t.payment_method="bank",t.invoice_id=i.props.data.id,t.mark_as_paid=!0,E(t).then((function(e){e.data.success?(i.props.close(),i.props.reload(),p.Am.success("Successfully Paid")):e.data.data.forEach((function(e,t,n){p.Am.error(e)}))}))})),i.state={form:{invoice_id:null,payment_details:"",receipt:"",note:"",date:""}},i}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.state.form.invoice_id!=this.props.data.id&&this.setState({form:this.props.data.payment_info})}},{key:"render",value:function(){var e=this;this.props.data;return(0,S.jsx)("div",{className:"pi-overlay pi-show",children:(0,S.jsxs)("div",{className:"pi-modal-content",children:[(0,S.jsxs)("div",{className:"pi-modal-header pi-gradient",children:[(0,S.jsx)("span",{className:"pi-close",onClick:function(){return e.props.close()},children:(0,S.jsxs)("svg",{width:25,height:25,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,S.jsx)("h2",{className:"pi-modal-title",children:"Payment Info"}),(0,S.jsx)("p",{children:"Here is the payment information"})]}),(0,S.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,S.jsx)("div",{className:"pi-content",children:(0,S.jsxs)("div",{className:"pi-form-style-one",children:[(0,S.jsx)("div",{className:"row",children:(0,S.jsxs)("div",{className:"col-lg",children:[(0,S.jsx)("label",{htmlFor:"form-payment_details",children:"Payment Details"}),(0,S.jsx)("textarea",{id:"form-payment_details",readOnly:!0,rows:4,name:"payment_details",value:this.state.form.payment_details,onChange:this.handleChange})]})}),(0,S.jsx)("div",{className:"row",children:(0,S.jsxs)("div",{className:"col-md",children:[(0,S.jsx)("label",{htmlFor:"field-receipt",children:"Payment Receipt"}),(0,S.jsx)(_.Z,{label:"Upload",attach_type:"secret",permission:!0,library:!1,data:this.state.form.receipt,changeHandler:this.handleUploadChange})]})}),(0,S.jsx)("div",{className:"row",children:(0,S.jsxs)("div",{className:"col-lg",children:[(0,S.jsx)("label",{htmlFor:"form-note",children:"Additional Note"}),(0,S.jsx)("textarea",{id:"form-note",rows:3,name:"note",value:this.state.form.note,onChange:this.handleChange})]})})]})}),(0,S.jsx)("div",{className:"pi-modal-footer",children:(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col",children:(0,S.jsx)("button",{type:"reset",className:"pi-btn pi-text-hover-blue",children:i18n.clear})}),(0,S.jsx)("div",{className:"col",children:(0,S.jsx)("button",{type:"submit",className:"pi-btn pi-bg-blue pi-bg-hover-blue pi-btn-big pi-float-right pi-color-white",children:"Mark As Paid"})})]})})]})]})})}}]),n}(h.Component);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}const W=function(e){(0,o.Z)(n,e);var t=q(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,d.Z)((0,a.Z)(i),"handleChange",(function(e){var t=e.target,n=t.name,r=t.value;i.setState({form:T(T({},i.state.form),{},(0,d.Z)({},n,r))})})),i.state={form:{invoice_id:null,date:"",note:""}},i}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.state.form.invoice_id!=this.props.data.id&&this.setState({form:this.props.data.payment_info})}},{key:"render",value:function(){var e=this,t=this.props.data;return(0,S.jsx)("div",{className:"pi-overlay pi-show",children:(0,S.jsxs)("div",{className:"pi-modal-content",children:[(0,S.jsxs)("div",{className:"pi-modal-header pi-gradient",children:[(0,S.jsx)("span",{className:"pi-close",onClick:function(){return e.props.close()},children:(0,S.jsxs)("svg",{width:25,height:25,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,S.jsx)("h2",{className:"pi-modal-title",children:"Paypal Payment Info"}),(0,S.jsx)("p",{children:"Here is the payment information"})]}),(0,S.jsx)("div",{className:"pi-content",children:(0,S.jsxs)("div",{className:"pi-form-style-one",children:[(0,S.jsxs)("div",{className:"row",children:[(0,S.jsxs)("div",{className:"col-lg",children:[(0,S.jsxs)("label",{htmlFor:"form-name",children:["                    ",i18n.name]}),(0,S.jsx)("input",{id:"form-name",type:"text",required:!0,name:"name",value:t.payment_info.billing_address.name.given_name,onChange:this.handleChange})]}),(0,S.jsxs)("div",{className:"col-lg",children:[(0,S.jsx)("label",{htmlFor:"form-email",children:"Email"}),(0,S.jsx)("input",{id:"form-email",type:"text",required:!0,name:"email",value:t.payment_info.billing_address.email_address,onChange:this.handleChange})]})]}),(0,S.jsx)("div",{className:"row",children:(0,S.jsxs)("div",{className:"col-lg",children:[(0,S.jsx)("label",{htmlFor:"form-transection_id",children:"Transection ID"}),(0,S.jsx)("input",{id:"form-transection_id",type:"text",required:!0,name:"transection_id",value:t.payment_info.id,onChange:this.handleChange})]})})]})}),(0,S.jsx)("div",{className:"pi-modal-footer"})]})})}}]),n}(h.Component);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}const J=function(e){(0,o.Z)(n,e);var t=z(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,d.Z)((0,a.Z)(i),"handleChange",(function(e){var t=e.target,n=t.name,r=t.value;i.setState({form:Y(Y({},i.state.form),{},(0,d.Z)({},n,r))})})),i.state={form:{invoice_id:null,date:"",note:""}},i}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.state.form.invoice_id!=this.props.data.id&&this.setState({form:this.props.data.payment_info})}},{key:"render",value:function(){var e=this,t=this.props.data;return(0,S.jsx)("div",{className:"pi-overlay pi-show",children:(0,S.jsxs)("div",{className:"pi-modal-content",children:[(0,S.jsxs)("div",{className:"pi-modal-header pi-gradient",children:[(0,S.jsx)("span",{className:"pi-close",onClick:function(){return e.props.close()},children:(0,S.jsxs)("svg",{width:25,height:25,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,S.jsx)("h2",{className:"pi-modal-title",children:"Stripe Payment Info"}),(0,S.jsx)("p",{children:"Here is the payment information"})]}),(0,S.jsx)("div",{className:"pi-content",children:(0,S.jsxs)("div",{className:"pi-form-style-one",children:[(0,S.jsxs)("div",{className:"row",children:[(0,S.jsxs)("div",{className:"col-lg",children:[(0,S.jsxs)("label",{htmlFor:"form-name",children:["                    ",i18n.name]}),(0,S.jsx)("input",{id:"form-name",type:"text",required:!0,name:"name",value:t.payment_info.billing_address.name,onChange:this.handleChange})]}),(0,S.jsxs)("div",{className:"col-lg",children:[(0,S.jsx)("label",{htmlFor:"form-email",children:"Email"}),(0,S.jsx)("input",{id:"form-email",type:"text",required:!0,name:"email",value:t.payment_info.billing_address.email,onChange:this.handleChange})]})]}),(0,S.jsx)("div",{className:"row",children:(0,S.jsxs)("div",{className:"col-lg",children:[(0,S.jsx)("label",{htmlFor:"form-transection_id",children:"Transection ID"}),(0,S.jsx)("input",{id:"form-transection_id",type:"text",required:!0,name:"transection_id",value:t.payment_info.id,onChange:this.handleChange})]})})]})}),(0,S.jsx)("div",{className:"pi-modal-footer"})]})})}}]),n}(h.Component);var G=function(e){var t=ndpi.i18n;return(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{children:(0,S.jsx)("input",{type:"checkbox",onChange:function(t){return e.checkedBoxes.handle(t,"all")}})}),(0,S.jsxs)("th",{children:["invoice"==e.path?ndpi.i18n.inv:ndpi.i18n.est," ID"]}),!e.client_id&&(0,S.jsx)("th",{children:t.contact}),(0,S.jsx)("th",{children:t.total}),(0,S.jsx)("th",{children:t.status}),"invoice"==e.path&&(0,S.jsxs)("th",{children:[t.payment," ",t.method]}),(0,S.jsx)("th",{children:t.date}),(0,S.jsx)("th",{children:t.action})]})})},K=function(e){var t=(0,h.useState)(null),n=(0,i.Z)(t,2),r=n[0],s=n[1],a=function(e){s(r==e?null:e)},o=(0,u.s0)();function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.path;o("/".concat(i,"/single/").concat(t).concat(n))}var l=e.tableData.map((function(t,n){var i,s,o=-1!==e.checkedBoxes.data.indexOf(t.id);switch(t.status){case"draft":i=(0,S.jsx)("span",{className:"pi-badge pi-bg-pink",children:"Draft"});break;case"sent":i=(0,S.jsx)("span",{className:"pi-badge pi-bg-gray",children:"Sent"});break;case"viewed":i=(0,S.jsx)("span",{className:"pi-badge pi-bg-orange",children:"Viewed"});break;case"accept":i=(0,S.jsx)("span",{className:"pi-badge pi-bg-blue pi-cursor-pointer",style:{color:"#fff"},onClick:function(){return e.infoModal(t,"feedback")},children:"Accepted"});break;case"decline":i=(0,S.jsx)("span",{className:"pi-badge pi-bg-red pi-cursor-pointer",style:{color:"#fff"},onClick:function(){return e.infoModal(t,"feedback")},children:"Declined"});break;case"paid_req":i=(0,S.jsx)("span",{className:"pi-badge pi-bg-orange",style:{color:"#4a5568"},children:"Paid Request"});break;case"paid":i=(0,S.jsx)("span",{className:"pi-badge pi-bg-blue",style:{color:"#fff"},children:"Paid"})}switch(t.payment_method){case"bank":s=(0,S.jsx)("span",{className:"pi-badge pi-cursor-pointer",style:{color:"#fff",backgroundColor:"#4A5568"},onClick:function(){return e.infoModal(t,"bank")},children:"Bank & Others"});break;case"paypal":s=(0,S.jsx)("span",{className:"pi-badge pi-cursor-pointer",style:{color:"#fff",backgroundColor:"#009cde"},onClick:function(){return e.infoModal(t,"paypal")},children:"Paypal"});break;case"stripe":s=(0,S.jsx)("span",{className:"pi-badge pi-cursor-pointer",style:{color:"#fff",backgroundColor:"#5433FF"},onClick:function(){return e.infoModal(t,"stripe")},children:"Stripe"})}var l=t.id,d=t.token,h=("invoice"==t.path?ndpi.invoice_page_url:ndpi.estimate_page_url).replace("invoice_id",l).replace("invoice_token",d);return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("input",{type:"checkbox",value:t.id,checked:o,onChange:function(n){return e.checkedBoxes.handle(n,"single",t.id)}})}),(0,S.jsx)("td",{onClick:function(){c(t.id)},className:"pi-cursor-pointer",children:("invoice"==t.path?"Inv":"Est")+t.id}),!e.client_id&&(0,S.jsx)("td",{onClick:function(){c(t.id)},className:"pi-cursor-pointer",children:"person"==t.to.type?t.to.first_name:t.to.org_name}),(0,S.jsx)("td",{onClick:function(){c(t.id)},className:"pi-cursor-pointer",children:t.total}),(0,S.jsx)("td",{children:i}),"invoice"==e.path&&(0,S.jsx)("td",{children:s}),(0,S.jsx)("td",{onClick:function(){c(t.id)},className:"pi-cursor-pointer",children:(0,S.jsx)(P(),{format:"YYYY-MM-DD",children:t.date})}),(0,S.jsx)("td",{className:"pi-action",children:(0,S.jsxs)("div",{className:"pi-action-content",children:[(0,S.jsx)("button",{className:t.id==r?"pi-active":"",onClick:function(){return a(t.id)},children:(0,S.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14C6.10457 14 7 13.1046 7 12Z",fill:"#718096"}),(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12Z",fill:"#718096"}),(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12C21 10.8954 20.1046 10 19 10C17.8954 10 17 10.8954 17 12C17 13.1046 17.8954 14 19 14C20.1046 14 21 13.1046 21 12Z",fill:"#718096"})]})}),t.id==r&&(0,S.jsxs)("div",{className:"pi-dropdown-content pi-show",children:[(0,S.jsx)("a",{onClick:function(){a(t.id),c(t.id)},children:"Edit"}),(0,S.jsx)("a",{onClick:function(){return c(t.id,"/tab/preview")},children:"Preview"}),(0,S.jsx)("a",{target:"_blank",href:h,children:"Client Preview"}),(0,S.jsx)("a",{onClick:function(){a(t.id),e.action("sent",t.id)},children:"Mark As Sent"}),"invoice"==t.path&&(0,S.jsx)("a",{onClick:function(){a(t.id),e.action("paid",t.id)},children:"Mark As Paid"}),"estimate"==t.path&&(0,S.jsx)("a",{onClick:function(){a(t.id),e.action("accept",t.id)},children:"Mark As Accepted"}),"estimate"==t.path&&(0,S.jsx)("a",{onClick:function(){a(t.id),e.action("decline",t.id)},children:"Mark As Declined"}),(0,S.jsx)("a",{onClick:function(){a(t.id),e.action("copy",t.id)},children:"Duplicate"}),"estimate"==t.path&&(0,S.jsx)("a",{onClick:function(){a(t.id),e.action("copy-to-inv",t.id)},children:"Copy To Invoice"}),(0,S.jsx)("a",{onClick:function(){a(t.id),e.deleteEntry("single",t.id)},children:"Delete"})]})]})})]},n)}));return(0,S.jsx)("tbody",{children:l})};const Q=function(e){var t=(0,h.useState)(!1),n=(0,i.Z)(t,2),r=n[0],s=n[1],a=(0,h.useState)(null),o=(0,i.Z)(a,2),c=o[0],l=o[1],d=e.tableData,p=e.editEntry,u=e.checkedBoxes,f=e.deleteEntry,m=e.client_id,v=e.path,j=e.action;return(0,S.jsx)(S.Fragment,{children:d.length>0&&(0,S.jsxs)("div",{className:"pi-table-wrap",children:[r&&(0,S.jsxs)(S.Fragment,{children:[("accept"==c.status||"decline"==c.status)&&(0,S.jsx)(R,{data:c,show:r,reload:e.reload,close:function(){return s(!1)}}),"bank"==c.payment_method&&(0,S.jsx)(I,{data:c,show:r,reload:e.reload,close:function(){return s(!1)}}),"paypal"==c.payment_method&&(0,S.jsx)(W,{data:c,show:r,reload:e.reload,close:function(){return s(!1)}}),"stripe"==c.payment_method&&(0,S.jsx)(J,{data:c,show:r,reload:e.reload,close:function(){return s(!1)}})]}),(0,S.jsxs)("table",{className:"pi-table",children:[(0,S.jsx)(G,{checkedBoxes:u,client_id:m,path:v}),(0,S.jsx)(K,{infoModal:function(e){l(e),s(!0)},tableData:d,editEntry:p,checkedBoxes:u,deleteEntry:f,client_id:m,path:v,action:j})]})]})})};var X=n(63633);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}var ne,ie,re=function(e){(0,o.Z)(n,e);var t=te(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,d.Z)((0,a.Z)(i),"handleChange",(function(e){var t=e.target,n=t.name,r=t.value;i.setState({form:ee(ee({},i.state.form),{},(0,d.Z)({},n,r))},(function(){"text"==n?(i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout((function(){i.props.handleSubmit(i.state.form)}),300)):i.props.handleSubmit(i.state.form)}))})),i.state={form:{text:"",level:"",tag:""},searchModal:!1},i.timeout=0,i}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=(e.showing,e.showItem),i=e.total,r=ndpi.i18n;return(0,S.jsxs)("div",{className:"pi-search-bar",children:[(0,S.jsxs)("div",{className:"pi-search-box pi-medium-search-bar",children:[(0,S.jsx)(X.ol,{}),(0,S.jsx)("input",{type:"text",className:"pi-search-input",placeholder:r.search+" "+t,name:"text",value:this.state.form.text,onChange:this.handleChange})]}),!1,(0,S.jsx)("div",{className:"pi-total-list",children:(0,S.jsxs)("p",{children:[r.show," ",(0,S.jsxs)("select",{onChange:n,children:[(0,S.jsx)("option",{value:"10",children:"10"}),(0,S.jsx)("option",{value:"20",children:"20"}),(0,S.jsx)("option",{value:"30",children:"30"}),(0,S.jsx)("option",{value:"50",children:"50"}),(0,S.jsx)("option",{value:"99",children:"99"})]}),t," ",r.from," ",(0,S.jsx)("span",{children:i})]})})]})}}]),n}(h.Component),se=n(21619);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}var le=(ie=ne=function(e){(0,o.Z)(n,e);var t=ce(n);function n(e){var s;return(0,r.Z)(this,n),s=t.call(this,e),(0,d.Z)((0,a.Z)(s),"getLists",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={page:s.state.currentPage,per_page:s.state.perPage};t.path=s.state.path,s.props.invoice_id&&(t.invoice_id=s.props.invoice_id),s.props.module_id&&(t.module_id=s.props.module_id),e&&(e=Object.entries(e).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],s=n[1];return s?(e[r]=s,e):e}),{}),t=oe(oe({},t),e));var n=new URLSearchParams(t).toString();y.Z.getAll(n).then((function(e){var t=e.data.data.result,n=e.data.data.total,i=!t.length;s.setState({invoices:t,preloader:!1,empty:i,total:n,totalPage:Math.ceil(n/s.state.perPage)})}))})),(0,d.Z)((0,a.Z)(s),"handleSearch",(function(e){var t=e.target.value;s.setState({searchVal:t},(function(){s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout((function(){s.getLists({s:s.state.searchVal})}),300)}))})),(0,d.Z)((0,a.Z)(s),"showItem",(function(e){var t=e.target.value;s.setState({perPage:t},(function(){s.getLists()}))})),(0,d.Z)((0,a.Z)(s),"deleteEntry",(function(e,t){if(confirm(s.context.CrudMsg.confirm)){var n="single"==e?t:s.state.checkedBoxes.toString();y.Z.remove(n).then((function(t){t.data.success?(p.Am.success(s.context.CrudMsg.delete),"single"!=e&&s.setState({checkedBoxes:[]}),s.getLists()):t.data.data.forEach((function(e,t,n){p.Am.error(e)}))}))}})),(0,d.Z)((0,a.Z)(s),"closeForm",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new";"new"==e?s.setState({formModal:!1}):s.setState({searchModal:!1})})),(0,d.Z)((0,a.Z)(s),"handleCheckbox",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=s.state.checkedBoxes;if("single"==t)e.target.checked?(i.push(n),s.setState({checkedBoxes:i})):(i.splice(i.indexOf(n),1),s.setState({checkedBoxes:i}));else if(e.target.checked){var r=[];s.state.invoices.map((function(e){r.push(e.id)})),s.setState({checkedBoxes:r})}else s.setState({checkedBoxes:[]})})),(0,d.Z)((0,a.Z)(s),"handlePageClick",(function(e){var t=e.selected+1,n=t*s.state.perPage;s.setState({currentPage:t,offset:n},(function(){s.getLists()}))})),(0,d.Z)((0,a.Z)(s),"newInvoie",(function(){s.props.routeChange()})),(0,d.Z)((0,a.Z)(s),"handleAction",(function(e,t){"sent"==e||"paid"==e||"accept"==e||"decline"==e?Z(t,{type:e}).then((function(t){t.data.success?("sent"==e?p.Am.success("Successfully mark as Sent"):"paid"==e?p.Am.success("Successfully mark as Paid"):"accept"==e?p.Am.success("Successfully mark as Accepted"):"decline"==e&&p.Am.success("Successfully mark as Declined"),s.getLists()):t.data.data.forEach((function(e,t,n){p.Am.error(e)}))})):"copy"!=e&&"copy-to-inv"!=e||O({id:t,type:e}).then((function(t){t.data.success?"copy"==e?(p.Am.success("Successfully copied"),s.getLists()):"copy-to-inv"==e&&p.Am.success("Successfully convert to invoice"):t.data.data.forEach((function(e,t,n){p.Am.error(e)}))}))})),s.state={title:"",path:"",empty:!1,preloader:!0,formModal:!1,searchModal:!1,formModalType:"new",invoice:{id:null},invoices:[],summary:{total:0,paid:0,unpaid:0,draft:0,sent:0},checkedBoxes:[],offset:0,perPage:10,total:1,totalPage:1,currentPage:1,searchVal:""},s.timeout=0,s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t="/invoice"==this.props.path?"Invoice":"Estimate",n="/invoice"==this.props.path?"invoice":"estimate";this.setState({title:t,path:n},(function(){e.getLists()}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,i=t.invoices,r=t.checkedBoxes,s=t.searchVal,a=this.state.summary;a.total,a.paid,a.unpaid,a.draft,a.sent;return(0,S.jsxs)("div",{className:"ncpi-components",children:[!this.props.module_id&&(0,S.jsx)(j.Z,{title:n}),(0,S.jsxs)("div",{className:"row",children:[(0,S.jsx)("div",{className:"col",children:(0,S.jsx)("h2",{className:"pi-page-title",children:n})}),(0,S.jsx)("div",{className:"col",children:(0,S.jsx)(m.Z,{title:n,openForm:function(){return e.newInvoie()}})})]}),!this.props.module_id&&!1,!this.props.module_id&&(0,S.jsx)(re,{title:n,showing:i.length,showItem:this.showItem,total:this.state.total,handleSubmit:this.getLists}),r.length>0&&(0,S.jsx)(v.Z,{length:r.length,uncheckAll:function(){return e.setState({checkedBoxes:[]})},deleteEntry:this.deleteEntry}),this.state.empty&&(0,S.jsx)(se.Z,{title:n,searchVal:s,clickHandler:function(){return e.newInvoie()}}),this.state.preloader?(0,S.jsx)(g.Z,{}):(0,S.jsx)(Q,{reload:this.getLists,tableData:i,checkedBoxes:{data:r,handle:this.handleCheckbox},deleteEntry:this.deleteEntry,invoice_id:this.props.invoice_id,path:this.state.path,action:this.handleAction}),this.state.totalPage>1&&(0,S.jsx)(x.Z,{forcePage:this.state.currentPage-1,pageCount:this.state.totalPage,onPageChange:this.handlePageClick})]})}}]),n}(h.Component),(0,d.Z)(ne,"contextType",f.Z),ie);const de=function(e){var t=(0,u.TH)().pathname,n=null;e.path&&(t="/"+e.path),e.module_id&&(n=e.module_id);var i=(0,u.s0)();return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(le,{routeChange:function(){i(n?"".concat(t,"/single?module_id=").concat(n):"".concat(t,"/single"))},path:t,module_id:n},t)})}}}]);