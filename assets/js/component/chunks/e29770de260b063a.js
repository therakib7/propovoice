"use strict";(self.webpackChunkpropovoice=self.webpackChunkpropovoice||[]).push([[4158],{64888:(e,t,n)=>{n(9669);var r=n(20915);r.JW},9258:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(86854),a=n(67294),i=n(78760),o=n(85893);const s=function(e){var t=(0,a.useRef)(),n=(0,a.useState)(!1),s=(0,r.Z)(n,2),c=s[0],l=s[1],d=(0,a.useCallback)((function(){return l(!1)}),[]);(0,i.Z)(t,d);var u=e.row,h=ndpi.i18n;return(0,o.jsxs)("div",{className:"pi-action-content",children:[(0,o.jsx)("button",{className:c?"pi-active":"",onClick:function(){l(!c)},style:{padding:"0 5px"},children:(0,o.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14C6.10457 14 7 13.1046 7 12Z",fill:"#718096"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12Z",fill:"#718096"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12C21 10.8954 20.1046 10 19 10C17.8954 10 17 10.8954 17 12C17 13.1046 17.8954 14 19 14C20.1046 14 21 13.1046 21 12Z",fill:"#718096"})]})}),c&&(0,o.jsxs)("div",{className:"pi-dropdown-content pi-show",ref:t,children:[e.handleOverview&&(0,o.jsx)("a",{onClick:function(){l(!1),e.handleOverview(u.id)},children:h.ov}),(0,o.jsx)("a",{onClick:function(){l(!1),e.editEntry("edit",u)},children:h.edit}),(0,o.jsx)("a",{onClick:function(){l(!1),e.deleteEntry("single",u.id)},children:h.del})]})]})}},30407:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(11358),a=n.n(r),i=n(85893);const o=function(e){return(0,i.jsx)("div",{className:"pi-pagination-content",children:(0,i.jsx)(a(),{previousClassName:"pi-previous",nextClassName:"pi-next",disabledClassName:"pi-disabled",previousLabel:(0,i.jsx)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M7.5 12.833L1.667 7 7.5 1.167",stroke:"#E2E8F0",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),nextLabel:(0,i.jsx)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1.5 12.833L7.333 7 1.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),breakLabel:(0,i.jsx)("svg",{width:15,height:15,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12a2 2 0 10-4 0 2 2 0 004 0zM14 12a2 2 0 10-4 0 2 2 0 004 0zM21 12a2 2 0 10-4 0 2 2 0 004 0z",fill:"#718096"})}),breakClassName:"break",forcePage:e.forcePage,pageCount:e.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e.onPageChange,containerClassName:"pi-pagination",activeClassName:"pi-active"})})}},64158:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(67294),a=n(29086),i=n(30407),o=n(15671),s=n(43144),c=n(97326),l=n(60136),d=n(82963),u=n(61120),h=n(4942),p=n(85893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}const g=function(e){(0,l.Z)(n,e);var t=v(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,h.Z)((0,c.Z)(r),"handleChange",(function(e){var t=e.target,n=t.name,a="checkbox"===t.type?t.checked:t.value;r.setState({form:m(m({},r.state.form),{},(0,h.Z)({},n,a))})})),(0,h.Z)((0,c.Z)(r),"handleSubmit",(function(e){e.preventDefault(),r.props.handleSubmit(r.state.form,"new"),r.setState({form:r.initialState})})),r.initialState={id:null,tab_id:r.props.tab_id,text:"",desc:"",priority:"",date:!1},r.state={form:r.initialState},r}return(0,s.Z)(n,[{key:"render",value:function(){return(0,p.jsx)("form",{onSubmit:this.handleSubmit,className:"",children:(0,p.jsxs)("div",{className:"pi-tab-buttons-group pi-text-right",children:[(0,p.jsx)("div",{className:"pi-activity-field",children:(0,p.jsx)("input",{id:"field-text",type:"text",required:!0,name:"text",value:this.state.form.text,placeholder:"Write your note",onChange:this.handleChange})}),(0,p.jsx)("button",{className:"pi-btn pi-btn-medium pi-bg-blue pi-bg-hover-blue pi-bg-shadow",children:"Save"})]})})}}]),n}(r.Component);n(81021),n(64888);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var y=function(e){(0,l.Z)(n,e);var t=j(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,h.Z)((0,c.Z)(r),"handleChange",(function(e){var t=e.target,n=t.name,a=t.value;r.setState({form:b(b({},r.state.form),{},(0,h.Z)({},n,a))})})),(0,h.Z)((0,c.Z)(r),"editData",(function(){"edit"==r.props.modalType?r.state.form.id!=r.props.data.id&&r.setState({form:r.props.data}):null!=r.state.form.id&&r.setState({form:r.initialState})})),(0,h.Z)((0,c.Z)(r),"handleSubmit",(function(e){e.preventDefault();var t=b({},r.state.form);r.props.handleSubmit(t),r.setState({form:r.initialState})})),r.initialState={id:null,tab_id:r.props.tab_id,text:""},r.state={form:r.initialState},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.editData()}},{key:"componentDidUpdate",value:function(){this.editData()}},{key:"render",value:function(){var e=this,t=this.state.form,n=ndpi.i18n;return(0,p.jsx)("div",{className:"pi-overlay pi-show",children:(0,p.jsxs)("div",{className:"pi-modal-content",children:[(0,p.jsxs)("div",{className:"pi-modal-header pi-gradient",children:[(0,p.jsx)("span",{className:"pi-close",onClick:function(){return e.props.close()},children:(0,p.jsxs)("svg",{width:25,height:25,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,p.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,p.jsxs)("h2",{className:"pi-modal-title",children:["new"==this.props.modalType?n.new:n.edit," ",n.note," "]}),(0,p.jsx)("p",{children:"Add new note from here"})]}),(0,p.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,p.jsx)("div",{className:"pi-content",children:(0,p.jsx)("div",{className:"pi-form-style-one",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsxs)("div",{className:"col",children:[(0,p.jsx)("label",{htmlFor:"form-text",children:n.note}),(0,p.jsx)("textarea",{id:"form-text",required:!0,name:"text",value:t.text,onChange:this.handleChange})]})})})}),(0,p.jsx)("div",{className:"pi-modal-footer",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col",children:(0,p.jsx)("button",{type:"reset",className:"pi-btn pi-text-hover-blue",children:n.clear})}),(0,p.jsx)("div",{className:"col",children:(0,p.jsx)("button",{type:"submit",className:"pi-btn pi-bg-blue pi-bg-hover-blue pi-btn-big pi-float-right pi-color-white",children:n.save})})]})})]})]})})}}]),n}(r.Component);const w=y;n(94803);var Z=n(9258),k=function(e){var t=e.tableData.map((function(t,n){return(0,p.jsxs)("div",{className:"pi-note",children:[(0,p.jsx)(Z.Z,{row:t,editEntry:e.editEntry,deleteEntry:e.deleteEntry}),(0,p.jsx)("div",{className:"pi-avater",children:(0,p.jsx)("img",{src:ndpi.assetImgUri+"avatar.png",alt:"avatar"})}),(0,p.jsxs)("div",{className:"pi-note-text",children:[(0,p.jsxs)("h4",{children:["Nabil Ahmed ",(0,p.jsx)("span",{children:"10 min ago"})]}),(0,p.jsx)("p",{children:t.text})]})]},n)}));return(0,p.jsx)("div",{className:"pi-note-content",children:t})};const O=function(e){var t=e.tableData,n=e.editEntry,r=e.checkedBoxes,a=e.deleteEntry;return(0,p.jsx)(p.Fragment,{children:t.length>0&&(0,p.jsx)(k,{tableData:t,editEntry:n,checkedBoxes:r,deleteEntry:a})})};const S=(0,n(14994).Z)((function(e){(0,r.useEffect)((function(){e.getLists()}),[]);var t=e.state,n=t.lists,o=t.checkedBoxes,s=t.searchVal;return(0,p.jsxs)("div",{className:"",children:[(0,p.jsx)(g,{handleSubmit:e.handleSubmit,tab_id:e.tab_id}),e.state.formModal&&(0,p.jsx)(w,{tab_id:e.tab_id,handleSubmit:e.handleSubmit,modalType:e.state.formModalType,data:e.state.list,close:e.closeForm}),(0,p.jsx)("h3",{className:"pi-title-small",children:"My Note"}),e.state.preloader?(0,p.jsx)(a.Z,{}):(0,p.jsx)(O,{tableData:n,searchVal:s,editEntry:e.openForm,checkedBoxes:{data:o,handle:e.handleCheckbox},deleteEntry:e.deleteEntry}),(0,p.jsx)("div",{className:"pi-pagination-content-two",children:e.state.totalPage>1&&(0,p.jsx)(i.Z,{forcePage:e.state.currentPage-1,pageCount:e.state.totalPage,onPageChange:e.handlePageClick})})]})}),"note")},14994:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(86854),a=n(15671),i=n(43144),o=n(97326),s=n(60136),c=n(82963),l=n(61120),d=n(4942),u=n(67294),h=n(72132),p=n(12754),f=n(9669),m=n.n(f),v=n(20915),g=n(85893);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}const y=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";c||(c=t+"s");var l=v.JW+c,f=function(t){(0,s.Z)(u,t);var c=j(u);function u(e){var t;return(0,a.Z)(this,u),t=c.call(this,e),(0,d.Z)((0,o.Z)(t),"getLists",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n={page:t.state.currentPage,per_page:t.state.perPage};t.props.tab_id&&(n.tab_id=t.props.tab_id),t.props.dashboard&&(n.dashboard=t.props.dashboard),t.props.module_id&&(n.module_id=t.props.module_id),e&&(e=Object.entries(e).reduce((function(e,t){var n=(0,r.Z)(t,2),a=n[0],i=n[1];return i?(e[a]=i,e):e}),{}),n=b(b({},n),e));var a=new URLSearchParams(n).toString(),i=m().get("".concat(l,"/?").concat(a));i.then((function(e){var n=e.data.data.result,r=e.data.data.total,a=!n.length;t.setState({lists:n,preloader:!1,empty:a,total:r,totalPage:Math.ceil(r/t.state.perPage)})}));return i})),(0,d.Z)((0,o.Z)(t),"handleSearch",(function(e){var n=e.target.value;t.setState({searchVal:n},(function(){t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.getLists({s:t.state.searchVal})}),300)}))})),(0,d.Z)((0,o.Z)(t),"showItem",(function(e){var n=e.target.value;t.setState({perPage:n},(function(){t.getLists()}))})),(0,d.Z)((0,o.Z)(t),"handleSubmit",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t.state.formModalType;n&&(r=n),"new"==r?m().post(l,e,v.r).then((function(e){e.data.success?(t.setState({formModal:!1}),h.Am.success(t.context.CrudMsg.create),t.getLists()):e.data.data.forEach((function(e,t,n){h.Am.error(e)}))})):m().put("".concat(l,"/").concat(e.id),e,v.r).then((function(e){e.data.success?(t.setState({formModal:!1}),h.Am.success(t.context.CrudMsg.update),t.getLists()):e.data.data.forEach((function(e,t,n){h.Am.error(e)}))}))})),(0,d.Z)((0,o.Z)(t),"deleteEntry",(function(e,n){if(confirm(t.context.CrudMsg.confirm)){var r="single"==e?n:t.state.checkedBoxes.toString();m().delete("".concat(l,"/").concat(r),v.r).then((function(n){n.data.success?(h.Am.success(t.context.CrudMsg.delete),"single"!=e&&t.setState({checkedBoxes:[]}),t.getLists()):n.data.data.forEach((function(e,t,n){h.Am.error(e)}))}))}})),(0,d.Z)((0,o.Z)(t),"openForm",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"new"==e?t.setState({formModal:!0,formModalType:"new"}):(n.hasOwnProperty("start_date")&&n.start_date&&(n.start_date=new Date(n.start_date)),n.hasOwnProperty("due_date")&&n.due_date&&(n.due_date=new Date(n.due_date)),t.setState({formModal:!0,formModalType:"edit",list:n}))})),(0,d.Z)((0,o.Z)(t),"closeForm",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new";"new"==e?t.setState({formModal:!1}):t.setState({searchModal:!1})})),(0,d.Z)((0,o.Z)(t),"handleCheckbox",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.state.checkedBoxes;if("single"==n)e.target.checked?(a.push(r),t.setState({checkedBoxes:a})):(a.splice(a.indexOf(r),1),t.setState({checkedBoxes:a}));else if(e.target.checked){var i=[];t.state.lists.map((function(e){i.push(e.id)})),t.setState({checkedBoxes:i})}else t.setState({checkedBoxes:[]})})),(0,d.Z)((0,o.Z)(t),"handlePageClick",(function(e){var n=e.selected+1,r=n*t.state.perPage;t.setState({currentPage:n,offset:r},(function(){t.getLists()}))})),t.state={title:n,empty:!1,preloader:!0,formModal:!1,searchModal:!1,formModalType:"new",list:{id:null},lists:[],checkedBoxes:[],offset:0,perPage:10,total:1,totalPage:1,currentPage:1,searchVal:""},t.timeout=0,t}return(0,i.Z)(u,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this;return(0,g.jsx)(e,b(b({},this.props),{},{state:this.state,openForm:this.openForm,closeForm:this.closeForm,showItem:this.showItem,getLists:this.getLists,handleCheckbox:this.handleCheckbox,uncheckAll:function(){return t.setState({checkedBoxes:[]})},handleSubmit:this.handleSubmit,handleSearch:this.handleSearch,handlePageClick:this.handlePageClick,deleteEntry:this.deleteEntry}))}}]),u}(u.Component);return f.contextType=p.Z,f}}}]);