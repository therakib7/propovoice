"use strict";(self.webpackChunkpropovoice=self.webpackChunkpropovoice||[]).push([[1490],{16521:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(9669),r=n.n(a),i=n(20915),o=i.JW+"payments";const s={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r().get("".concat(o,"/?").concat(e))},get:function(e){return r().get("".concat(o,"/").concat(e))},create:function(e){return r().post(o,e,i.r)},update:function(e,t){return r().put("".concat(o,"/").concat(e),t,i.r)},remove:function(e){return r().delete("".concat(o,"/").concat(e),i.r)},findByArg:function(e){return r().get("".concat(o,"?title=").concat(e))}}},1490:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var a=n(86854),r=n(15671),i=n(43144),o=n(97326),s=n(60136),c=n(82963),l=n(61120),d=n(4942),u=n(67294),p=n(72132),h=n(12754),m=n(16521),f=n(79048),v=n(85893);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.Z)(this,n)}}var j=function(e){(0,s.Z)(n,e);var t=y(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,d.Z)((0,o.Z)(i),"getLists",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={page:i.state.currentPage,per_page:i.state.perPage,data_from:"single_invoice"};e&&(e=Object.entries(e).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return i?(e[r]=i,e):e}),{}),t=g(g({},t),e));var n=new URLSearchParams(t).toString();m.Z.getAll(n).then((function(e){var t=e.data.data.result;i.setState({payments:t,preloader:!1})}))})),(0,d.Z)((0,o.Z)(i),"setPayment",(function(e,t){i.props.handleChange(e,t)})),(0,d.Z)((0,o.Z)(i),"handleSubmit",(function(e){m.Z.create(e).then((function(e){e.data.success?(i.setState({bankModal:!1}),p.Am.success(i.context.CrudMsg.create),i.props.handleChange(e.data.data,"bank"),i.getLists()):e.data.data.forEach((function(e,t,n){p.Am.error(e)}))}))})),i.state={preloader:!0,bankModal:!1,payment:{id:null},payments:[],checkedBoxes:[],offset:0,perPage:10,currentPage:1},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.getLists()}},{key:"render",value:function(){var e=this,t=this.props.data.payment_methods;return(0,v.jsxs)("div",{className:"pi-form-accordion pi-additional",children:[this.state.payments.map((function(n,a){if(!(wage.length>0&&"bank"!==n.method_id))return(0,v.jsxs)("div",{className:"pi-tab",children:[(0,v.jsx)("input",{type:"checkbox",defaultChecked:t.hasOwnProperty(n.method_id),id:"pi-payment-"+n.method_id,onChange:function(){return e.setPayment(n.method_id,"method")},name:"pi-payment-type"}),(0,v.jsx)("label",{className:(t.hasOwnProperty(n.method_id)?"pi-active":"")+" pi-tab-label",htmlFor:"pi-payment-"+n.method_id,children:n.method_name}),(0,v.jsx)("div",{className:"pi-tab-content",children:n.list.map((function(a,r){return(0,v.jsxs)("div",{className:"pi-payment-bank-content",onClick:function(){return e.setPayment(a,"id")},children:[(0,v.jsx)("div",{className:"pi-payment-image",children:(0,v.jsx)("span",{children:(0,v.jsx)("svg",{width:20,height:20,viewBox:"0 0 28 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:"M12.3479 0.555556C13.3232 -0.185185 14.6789 -0.185185 15.6542 0.555556L27.2321 9.33565C28.7067 10.4537 27.9157 12.787 26.0631 12.7963H1.93665C0.0863324 12.787 -0.706994 10.4537 0.769993 9.33565L12.3479 0.555556ZM13.9999 8.74537C14.464 8.74537 14.9091 8.56246 15.2373 8.23688C15.5655 7.91129 15.7499 7.4697 15.7499 7.00926C15.7499 6.54881 15.5655 6.10723 15.2373 5.78164C14.9091 5.45606 14.464 5.27315 13.9999 5.27315C13.5357 5.27315 13.0906 5.45606 12.7624 5.78164C12.4343 6.10723 12.2499 6.54881 12.2499 7.00926C12.2499 7.4697 12.4343 7.91129 12.7624 8.23688C13.0906 8.56246 13.5357 8.74537 13.9999 8.74537ZM3.49997 15.1111V22.0556H6.99994V15.1111H3.49997ZM9.33325 15.1111V22.0556H12.8332V15.1111H9.33325ZM15.1665 15.1111V22.0556H18.6665V15.1111H15.1665ZM20.9998 15.1111V22.0556H24.4998V15.1111H20.9998ZM0 27.2639C0 25.6667 1.30665 24.3704 2.91664 24.3704H25.0831C26.6931 24.3704 27.9997 25.6667 27.9997 27.2639V27.8426C27.9997 28.1496 27.8768 28.4439 27.658 28.661C27.4392 28.8781 27.1425 29 26.8331 29H1.16666C0.85724 29 0.560496 28.8781 0.341706 28.661C0.122915 28.4439 0 28.1496 0 27.8426V27.2639Z",fill:"#4A5568"})})})}),(0,v.jsxs)("div",{className:"payment-text-content",children:[Object.values(t).indexOf(a.id)>-1&&(0,v.jsx)("span",{children:(0,v.jsx)("svg",{width:20,height:20,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"3.4 5.6 17.6 13.4",enableBackground:"new 3.4 5.6 17.6 13.4",xmlSpace:"preserve",children:(0,v.jsx)("path",{d:"M9,16.2L4.8,12l-1.4,1.4L9,19L21,7l-1.4-1.4L9,16.2z"})})}),("paypal"==n.method_id||"stripe"==n.method_id)&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("h4",{className:"pi-payment-title",children:a.account_name})}),"bank"==n.method_id&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("h4",{className:"pi-payment-title",children:a.name})})]})]},r)}))})]},a)})),!this.state.payments.length&&(0,v.jsxs)("div",{className:"pi-payment-buttons",children:[this.state.bankModal&&(0,v.jsx)(f.Z,{handleSubmit:this.handleSubmit,show:this.state.bankModal,modalType:"new",close:function(){return e.setState({bankModal:!1})}}),(0,v.jsx)("button",{className:"pi-btn pi-bg-blue pi-bg-hover-blue pi-hover-color-white",onClick:function(){return e.setState({bankModal:!0})},children:"Add New Payment"})]})]})}}]),n}(u.Component);(0,d.Z)(j,"contextType",h.Z);const x=j},79048:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(15671),r=n(43144),i=n(97326),o=n(60136),s=n(82963),c=n(61120),l=n(4942),d=n(67294),u=n(85893);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.Z)(this,n)}}const f=function(e){(0,o.Z)(n,e);var t=m(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,i.Z)(r),"handleChange",(function(e){var t=e.target,n=t.name,a=t.value;r.setState({form:h(h({},r.state.form),{},(0,l.Z)({},n,a))})})),(0,l.Z)((0,i.Z)(r),"handleDesc",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=r.state.form;t.details=e,r.setState({form:t})})),(0,l.Z)((0,i.Z)(r),"toggleChange",(function(){var e=!r.state.form.default;r.setState({form:h(h({},r.state.form),{},(0,l.Z)({},"default",e))})})),(0,l.Z)((0,i.Z)(r),"editData",(function(){"edit"==r.props.modalType?r.state.form.id!=r.props.data.id&&r.setState({form:r.props.data}):null!=r.state.form.id&&r.setState({form:r.initialState})})),(0,l.Z)((0,i.Z)(r),"handleSubmit",(function(e){e.preventDefault(),r.props.handleSubmit(r.state.form)})),r.initialState={id:null,type:"bank",name:"",details:"",default:!1,date:!1},r.state={form:r.initialState},r}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){this.editData()}},{key:"componentDidUpdate",value:function(){this.editData()}},{key:"render",value:function(){var e=this,t=ndpi.i18n;return(0,u.jsx)("div",{className:"pi-overlay",children:(0,u.jsxs)("div",{className:"pi-modal-content",children:[(0,u.jsxs)("div",{className:"pi-modal-header pi-gradient",children:[(0,u.jsx)("span",{className:"pi-close",onClick:function(){return e.props.close()},children:(0,u.jsxs)("svg",{width:25,height:25,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,u.jsxs)("h2",{className:"pi-modal-title",children:["new"==this.props.modalType?t.new:t.edit," Account"]}),(0,u.jsx)("p",{children:"Please fill up necessary informaiton in the form."})]}),(0,u.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,u.jsx)("div",{className:"pi-content",children:(0,u.jsxs)("div",{className:"pi-form-style-one",children:[(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col-lg",children:[(0,u.jsx)("label",{htmlFor:"form-name",children:"Name"}),(0,u.jsx)("input",{id:"form-name",type:"text",required:!0,name:"name",value:this.state.form.name,onChange:this.handleChange})]})}),(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col",children:[(0,u.jsx)("label",{htmlFor:"form-details",children:"Details"}),(0,u.jsx)("textarea",{id:"form-details",rows:4,name:"details",value:this.state.form.details,onChange:this.handleChange}),(0,u.jsx)("p",{className:"pi-field-desc",children:"You need to mention bank details here, Like: Name, Routing No. etc"})]})})]})}),(0,u.jsx)("div",{className:"pi-modal-footer",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col",children:(0,u.jsx)("button",{type:"reset",className:"pi-btn pi-text-hover-blue",children:t.clear})}),(0,u.jsx)("div",{className:"col",children:(0,u.jsx)("button",{type:"submit",className:"pi-btn pi-bg-blue pi-bg-hover-blue pi-btn-big pi-float-right pi-color-white",children:t.save})})]})})]})]})})}}]),n}(d.Component)}}]);