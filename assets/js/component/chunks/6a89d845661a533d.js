"use strict";(self.webpackChunkpropovoice=self.webpackChunkpropovoice||[]).push([[4946],{9258:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(86854),s=n(67294),a=n(78760),r=n(85893);const o=function(e){var t=(0,s.useRef)(),n=(0,s.useState)(!1),o=(0,i.Z)(n,2),l=o[0],c=o[1],d=(0,s.useCallback)((function(){return c(!1)}),[]);(0,a.Z)(t,d);var h=e.row,u=ndpi.i18n;return(0,r.jsxs)("div",{className:"pi-action-content",children:[(0,r.jsx)("button",{className:l?"pi-active":"",onClick:function(){c(!l)},style:{padding:"0 5px"},children:(0,r.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14C6.10457 14 7 13.1046 7 12Z",fill:"#718096"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12Z",fill:"#718096"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12C21 10.8954 20.1046 10 19 10C17.8954 10 17 10.8954 17 12C17 13.1046 17.8954 14 19 14C20.1046 14 21 13.1046 21 12Z",fill:"#718096"})]})}),l&&(0,r.jsxs)("div",{className:"pi-dropdown-content pi-show",ref:t,children:[e.handleOverview&&(0,r.jsx)("a",{onClick:function(){c(!1),e.handleOverview(h.id)},children:u.ov}),(0,r.jsx)("a",{onClick:function(){c(!1),e.editEntry("edit",h)},children:u.edit}),(0,r.jsx)("a",{onClick:function(){c(!1),e.deleteEntry("single",h.id)},children:u.del})]})]})}},96044:(e,t,n)=>{n.r(t),n.d(t,{default:()=>X});var i=n(86854),s=n(67294),a=n(29086),r=n(72132),o=n(4942),l=n(78760),c=n(73077),d=n(30381),h=n.n(d),u=n(85893);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,s.lazy)((function(){return n.e(7977).then(n.bind(n,31418))}));const x=(0,c.Z)((function(e){var t={id:null,tab_id:e.tab_id,title:"",status_id:"",type_id:"",priority_id:"",start_date:!1,due_date:!1,date:!1},n=(0,s.useState)(t),a=(0,i.Z)(n,2),r=a[0],c=a[1],d=(0,s.useState)([]),p=(0,i.Z)(d,2),x=p[0],v=p[1],j=(0,s.useState)([]),g=(0,i.Z)(j,2),k=g[0],y=g[1],b=(0,s.useState)([]),w=(0,i.Z)(b,2),C=w[0],Z=w[1],_=(0,s.useState)(!1),O=(0,i.Z)(_,2),L=O[0],S=O[1],N=(0,s.useState)(!1),P=(0,i.Z)(N,2),D=P[0],M=P[1],E=(0,s.useRef)(),B=(0,s.useCallback)((function(){return S(!1)}),[]);(0,l.Z)(E,B);var R=(0,s.useRef)(),F=(0,s.useCallback)((function(){return M(!1)}),[]);(0,l.Z)(R,F),(0,s.useEffect)((function(){e.getAll("taxonomies","taxonomy=task_status,task_type,task_priority").then((function(t){if(t.data.success){var n=f({},r),i=t.data.data.task_status,s=t.data.data.task_type,a=t.data.data.task_priority;n.status_id=i[0],n.type_id=s[0],n.priority_id=a[0],c(n),v(i),y(s),Z(a),e.setTaxonomies({status:i,types:s,priorities:a})}}))}),[]);var H=function(e,t,n){e.preventDefault(),"type_id"==n?S(!1):M(!1),c(f(f({},r),{},(0,o.Z)({},n,t)))};return(0,u.jsx)("form",{onSubmit:function(n){n.preventDefault();var i=f({},r);if(i.status_id&&(i.status_id=parseInt(i.status_id.id)),i.start_date){var s=h()(i.start_date).format("YYYY-MM-DD");i.start_date=s}i.type_id&&(i.type_id=parseInt(i.type_id.id)),i.priority_id&&(i.priority_id=parseInt(i.priority_id.id)),e.handleSubmit(i,"new");var a=f({},t);a.status_id=x[0],a.type_id=k[0],a.priority_id=C[0],c(a)},className:"",children:(0,u.jsxs)("div",{className:"pi-tab-buttons-group",children:[(0,u.jsx)("div",{className:"pi-activity-field",children:(0,u.jsx)("input",{id:"field-title",type:"text",required:!0,name:"title",value:r.title,placeholder:"Add activity or task",onChange:function(e){var t=e.target,n=t.name,i="checkbox"===t.type?t.checked:t.value;c(f(f({},r),{},(0,o.Z)({},n,i)))}})}),(0,u.jsxs)("div",{className:"pi-tab-buttons",children:[(0,u.jsx)("div",{className:"pi-action-content",children:(0,u.jsx)(m,{date:r.start_date,type:"start_date",onDateChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=f({},r);"start_date"==t?n.start_date=e:n.due_date=e,c(n)}})}),(0,u.jsxs)("div",{className:"pi-action-content",ref:E,children:[(0,u.jsxs)("button",{className:"pi-task-btn",type:"button",onClick:function(){return S((function(e){return!e}))},children:[r.type_id.icon&&(0,u.jsx)("img",{src:r.type_id.icon.src}),!r.type_id.icon&&(0,u.jsx)("svg",{width:16,height:20,viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M5 3H3C2.46957 3 1.96086 3.21071 1.58579 3.58579C1.21071 3.96086 1 4.46957 1 5V17C1 17.5304 1.21071 18.0391 1.58579 18.4142C1.96086 18.7893 2.46957 19 3 19H13C13.5304 19 14.0391 18.7893 14.4142 18.4142C14.7893 18.0391 15 17.5304 15 17V5C15 4.46957 14.7893 3.96086 14.4142 3.58579C14.0391 3.21071 13.5304 3 13 3H11M5 3C5 3.53043 5.21071 4.03914 5.58579 4.41421C5.96086 4.78929 6.46957 5 7 5H9C9.53043 5 10.0391 4.78929 10.4142 4.41421C10.7893 4.03914 11 3.53043 11 3M5 3C5 2.46957 5.21071 1.96086 5.58579 1.58579C5.96086 1.21071 6.46957 1 7 1H9C9.53043 1 10.0391 1.21071 10.4142 1.58579C10.7893 1.96086 11 2.46957 11 3M5 12L7 14L11 10",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),L&&(0,u.jsx)("div",{className:"pi-dropdown-content pi-show",children:k&&k.map((function(e,t){return(0,u.jsxs)("a",{onClick:function(t){return H(t,e,"type_id")},children:[e.icon&&(0,u.jsx)("img",{src:e.icon.src}),e.label]},t)}))})]}),(0,u.jsxs)("div",{className:"pi-action-content",ref:R,children:[(0,u.jsx)("button",{className:"pi-task-btn",type:"button",onClick:function(){return M((function(e){return!e}))},children:(0,u.jsx)("svg",{width:18,height:18,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M10 1.5V7M1 19V15V19ZM1 15V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H9.5L10.5 2H19L16 8L19 14H10.5L9.5 13H3C2.46957 13 1.96086 13.2107 1.58579 13.5858C1.21071 13.9609 1 14.4696 1 15V15Z",stroke:r.priority_id&&r.priority_id.color?r.priority_id.color:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),D&&(0,u.jsx)("div",{className:"pi-dropdown-content pi-show",children:C&&C.map((function(e,t){return(0,u.jsxs)("a",{onClick:function(t){return H(t,e,"priority_id")},children:[(0,u.jsxs)("svg",{ref:function(e){return e&&e.style.setProperty("top","8px","important")},width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M3.75 20.25V4.5",stroke:e.color?e.color:"#CBD5E0",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M3.75 15.75C9.75 11.25 14.25 20.25 20.25 15.75V4.49997C14.25 8.99997 9.75 -3.40939e-05 3.75 4.49997",fill:e.color?e.color:"#CBD5E0"})]}),e.label]},t)}))})]}),(0,u.jsx)("button",{type:"submit",className:"pi-btn pi-btn-medium pi-bg-blue pi-bg-hover-blue pi-bg-shadow pi-br-4",children:ndpi.i18n.save})]})]})})}));var v=n(15671),j=n(43144),g=n(97326),k=n(60136),y=n(82963),b=n(61120),w=n(2921),C=n(89062),Z=n(45697),_=n.n(Z);const O=function(e){var t=(0,s.useRef)(),n=(0,s.useState)(!1),a=(0,i.Z)(n,2),r=a[0],o=a[1],c=(0,s.useState)(""),d=(0,i.Z)(c,2),h=d[0],p=d[1];(0,l.Z)(t,close),(0,s.useEffect)((function(){}),[]);var f=function(){null==e.index?e.changeHandler(h):e.changeHandler(e.index,h),o(!1)};return(0,u.jsxs)(u.Fragment,{children:[r&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{type:"text",ref:t,onChange:function(e){p(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&f()},name:"text",value:h}),(0,u.jsx)("span",{className:"pi-cursor-pointer",style:{marginLeft:"5px",alignSelf:"center"},children:(0,u.jsx)("svg",{width:15,height:15,onClick:f,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"3.4 5.6 17.6 13.4",enableBackground:"new 3.4 5.6 17.6 13.4",xmlSpace:"preserve",children:(0,u.jsx)("path",{d:"M9,16.2L4.8,12l-1.4,1.4L9,19L21,7l-1.4-1.4L9,16.2z"})})})]}),!r&&(0,u.jsxs)("label",{onClick:function(){p(e.value),o(!0)},children:[e.value,(0,u.jsx)("span",{className:"pi-mt-3 pi-ml-5",children:(0,u.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M5.79375 13.4999H3C2.86739 13.4999 2.74022 13.4473 2.64645 13.3535C2.55268 13.2597 2.5 13.1326 2.5 12.9999V10.2062C2.49978 10.1413 2.51236 10.0769 2.53702 10.0169C2.56169 9.95682 2.59796 9.90222 2.64375 9.85619L10.1438 2.3562C10.1903 2.30895 10.2457 2.27144 10.3069 2.24583C10.3681 2.22022 10.4337 2.20703 10.5 2.20703C10.5663 2.20703 10.632 2.22022 10.6931 2.24583C10.7543 2.27144 10.8097 2.30895 10.8563 2.3562L13.6438 5.1437C13.691 5.19022 13.7285 5.24568 13.7541 5.30684C13.7797 5.368 13.7929 5.43364 13.7929 5.49995C13.7929 5.56625 13.7797 5.63189 13.7541 5.69305C13.7285 5.75421 13.691 5.80967 13.6438 5.85619L6.14375 13.3562C6.09773 13.402 6.04313 13.4383 5.98307 13.4629C5.92301 13.4876 5.85868 13.5002 5.79375 13.4999V13.4999Z",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M8.5 4L12 7.5",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]})};const L=function(e){var t=(0,s.useRef)(),n=(0,s.useState)(!1),a=(0,i.Z)(n,2),r=a[0],o=a[1],c=(0,s.useCallback)((function(){return o(!1)}),[]);(0,l.Z)(t,c);var d=e.row;return(0,u.jsxs)("div",{className:"pi-action-content pi-action-btn pi-bg-shadow",children:[(0,u.jsx)("button",{className:r?"dpi-active":"",onClick:function(){o(!r)},children:(0,u.jsxs)("svg",{width:20,height:20,viewBox:"0 0 22 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14C6.10457 14 7 13.1046 7 12Z",fill:"#718096"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12Z",fill:"#718096"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12C21 10.8954 20.1046 10 19 10C17.8954 10 17 10.8954 17 12C17 13.1046 17.8954 14 19 14C20.1046 14 21 13.1046 21 12Z",fill:"#718096"})]})}),r&&(0,u.jsxs)("div",{className:"pi-dropdown-content pi-show",ref:t,children:[(0,u.jsx)("a",{onClick:function(){o(!1),e.editEntry("edit",d)},children:"Edit"}),(0,u.jsx)("a",{onClick:function(){o(!1),e.deleteEntry()},children:"Delete"})]})]})};var S=n(56920),N=n(30396);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,b.Z)(e);if(t){var s=(0,b.Z)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,y.Z)(this,n)}}var E=function(e){(0,k.Z)(n,e);var t=M(n);function n(e){var i;return(0,v.Z)(this,n),i=t.call(this,e),(0,o.Z)((0,g.Z)(i),"handleChecklistLabel",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=i.state.checklist[e];n.label=t;var s=i.state.checklist;i.setState({checklist:s}),i.handlePros()})),(0,o.Z)((0,g.Z)(i),"handleChange",(function(e,t){return function(n){var s=n.target,a=s.name,r=s.value,l=i.state.checklist[e].items.map((function(e,n){return t!==n?e:D(D({},e),{},(0,o.Z)({},a,r))}));i.state.checklist[e].items=l;var c=i.state.checklist;i.setState({checklist:c}),i.handlePros()}})),(0,o.Z)((0,g.Z)(i),"addChecklist",(function(e){if(e.preventDefault(),wage.length>0)(0,S.Z)();else{var t=i.state.checklist;t.push({label:"Checklist",items:[]}),i.setState({checklist:t})}})),(0,o.Z)((0,g.Z)(i),"handleNewItem",(function(e,t){if(wage.length>0)(0,S.Z)();else{i.state.checklist[t].newItem=e.target.value;var n=i.state.checklist;i.setState({checklist:n}),i.handlePros()}})),(0,o.Z)((0,g.Z)(i),"addItem",(function(e,t){e.preventDefault();var n=i.state.checklist[t].items,s=i.state.checklist[t].newItem;if(s){n.push({text:s,done:!1}),i.state.checklist[t].newItem="";var a=i.state.checklist;i.setState({checklist:a})}})),(0,o.Z)((0,g.Z)(i),"handlePros",(function(){i.props.changeHandler(i.state.checklist)})),(0,o.Z)((0,g.Z)(i),"doneHandler",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,C.Z)(i.state.checklist),s=n[e].items[t];s.done=!s.done,i.setState({checklist:n},(function(){i.handlePros()}))})),(0,o.Z)((0,g.Z)(i),"deleteHandler",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,C.Z)(i.state.checklist);if(null===t)n.splice(e,1);else{var s=n[e].items;s.splice(t,1)}i.setState({checklist:n},(function(){i.handlePros()}))})),(0,o.Z)((0,g.Z)(i),"doneCount",(function(e,t){var n=i.state.checklist[e].items;return t?n.filter((function(e){return!0===e.done})).length:n.length})),(0,o.Z)((0,g.Z)(i),"render",(function(){var e=i.state.checklist,t=i.state.itemEdit;return(0,u.jsxs)(u.Fragment,{children:[e.map((function(e,n){return(0,u.jsxs)("div",{className:"pi-checklist pi-mb-15",children:[(0,u.jsxs)("div",{className:"pi-checklist-head",children:[(0,u.jsx)(O,{value:e.label,index:n,changeHandler:i.handleChecklistLabel},n),wage.length>0&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(N.Z,{})}),(0,u.jsxs)("span",{children:[i.doneCount(n,!0)," task done out of ",i.doneCount(n,!1)]}),(0,u.jsx)("div",{className:"pi-close-icon",onClick:function(){return i.deleteHandler(n)},children:(0,u.jsx)("svg",{width:15,height:15,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.19499 1.20353C1.31989 1.07854 1.48926 1.00833 1.66585 1.00833C1.84245 1.00833 2.01182 1.07854 2.13671 1.20353L4.99584 4.06553L7.85496 1.20353C7.9164 1.13985 7.98988 1.08906 8.07114 1.05412C8.15239 1.01919 8.23979 1.00079 8.32822 1.00003C8.41665 0.999256 8.50434 1.01612 8.58619 1.04964C8.66804 1.08316 8.7424 1.13267 8.80493 1.19526C8.86747 1.25786 8.91692 1.33229 8.95041 1.41422C8.98389 1.49615 9.00074 1.58394 8.99997 1.67246C8.99921 1.76098 8.98083 1.84846 8.94593 1.9298C8.91103 2.01113 8.86029 2.08469 8.79668 2.14619L5.93756 5.00819L8.79668 7.87019C8.91799 7.99593 8.98512 8.16433 8.98361 8.33913C8.98209 8.51392 8.91205 8.68113 8.78857 8.80474C8.66508 8.92834 8.49804 8.99846 8.32342 8.99997C8.1488 9.00149 7.98057 8.9343 7.85496 8.81286L4.99584 5.95086L2.13671 8.81286C2.01111 8.9343 1.84287 9.00149 1.66825 8.99997C1.49363 8.99846 1.32659 8.92834 1.20311 8.80474C1.07963 8.68113 1.00958 8.51392 1.00807 8.33913C1.00655 8.16433 1.07368 7.99593 1.19499 7.87019L4.05412 5.00819L1.19499 2.14619C1.07014 2.02117 1 1.85163 1 1.67486C1 1.49808 1.07014 1.32854 1.19499 1.20353Z",fill:"#4A5568",stroke:"#4A5568",strokeWidth:"0.2"})})})]}),(0,u.jsxs)("div",{className:"pi-checklist-content",children:[(0,u.jsx)("ul",{children:e.items.map((function(e,s){return(0,u.jsxs)("li",{children:[(0,u.jsx)("input",{type:"checkbox",id:n+"-task-"+s,value:e.done,checked:e.done,onChange:function(){return i.doneHandler(n,s)}}),(0,u.jsx)("label",{htmlFor:n+"-task-"+s,style:{textDecoration:e.done?"line-through":""},children:t&&t.checklist==n&&t.list==s?(0,u.jsx)("input",{type:"text",name:"text",value:e.text,onChange:i.handleChange(n,s),onKeyPress:function(e){"Enter"===e.key&&i.setState({itemEdit:!1})}}):e.text}),(0,u.jsx)(L,{row:e,editEntry:function(){i.setState({itemEdit:{checklist:n,list:s}})},deleteEntry:function(){return i.deleteHandler(n,s)}})]},s)}))}),(0,u.jsx)("input",{type:"text",placeholder:"Write new "+e.label+" item",value:e.newItem,onChange:function(e){return i.handleNewItem(e,n)},onKeyPress:function(e){"Enter"===e.key&&i.addItem(e,n)}})]})]},n)})),(0,u.jsxs)("button",{className:"pi-btn pi-btn-small",style:{color:"#718096",marginTop:10},onClick:function(e){return i.addChecklist(e)},children:[(0,u.jsxs)("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M1.875 6H10.125",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M6 1.875V10.125",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Add Checklist",wage.length>0&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(N.Z,{})})]})]})})),i.state={edit:!1,itemEdit:!1,checklist:[{label:"Checklist",items:[],newItem:""}]},i}return(0,j.Z)(n,[{key:"componentDidUpdate",value:function(){!this.state.edit&&this.props.data&&this.setState({edit:!0,checklist:this.props.data})}}]),n}(s.Component);E.propTypes={title:_().string};const B=E;function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,b.Z)(e);if(t){var s=(0,b.Z)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,y.Z)(this,n)}}var T=(0,s.lazy)((function(){return n.e(7977).then(n.bind(n,31418))})),V=function(e){(0,k.Z)(n,e);var t=H(n);function n(e){var i;return(0,v.Z)(this,n),i=t.call(this,e),(0,o.Z)((0,g.Z)(i),"myRef",s.createRef()),(0,o.Z)((0,g.Z)(i),"handleChange",(function(e){var t=e.target,n=t.name,s=t.value;i.setState({form:F(F({},i.state.form),{},(0,o.Z)({},n,s))},(function(){var e="title"==n;i.updateRequest(e)}))})),(0,o.Z)((0,g.Z)(i),"handleClickOutside",(function(e){i.myRef.current.contains(e.target)||i.props.close()})),(0,o.Z)((0,g.Z)(i),"editData",(function(){"edit"==i.props.modalType?i.state.form.id!=i.props.data.id&&i.setState({form:i.props.data}):null!=i.state.form.id&&i.setState({form:i.initialState})})),(0,o.Z)((0,g.Z)(i),"handleChecklistChange",(function(e){var t=F({},i.state.form);t.checklist=e,i.setState({form:t},(function(){i.updateRequest()}))})),(0,o.Z)((0,g.Z)(i),"updateRequest",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout((function(){var t=F({},i.state.form),n=t.status_id.id;if(delete t.priority_id,delete t.status_id,delete t.type_id,t.start_date){var s=h()(t.start_date).format("YYYY-MM-DD");t.start_date=s}if(t.end_date){var a=h()(t.end_date).format("YYYY-MM-DD");t.end_date=a}i.props.update("tasks",t.id,t).then((function(t){t.data.success&&e&&i.props.reload({status_id:n})}))}),300)})),(0,o.Z)((0,g.Z)(i),"handleTaskStatusChange",(function(e){var t=F({},i.state.form);if("done"==e){var n=i.props.taxonomies.status.find((function(t){return t.type===e}));t.status_id=n,i.setState({form:t},(function(){var e={};t.status_id&&(e.status_id=t.status_id.id),i.props.update("tasks",t.id,e)}))}else t.status_id=e,i.setState({form:t})})),(0,o.Z)((0,g.Z)(i),"onDateChange",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=F({},i.state.form);"date"==t?n.start_date=e:n.due_date=e,i.setState({form:n},(function(){i.updateRequest(!0)}))})),i.initialState={id:null,tab_id:i.props.tab_id,title:"",status_id:null,type_id:null,priority_id:null,desc:"",note:"",checklist:null},i.state={form:i.initialState,dropdown:null},i.timeout=0,i}return(0,j.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),this.editData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(){this.editData()}},{key:"render",value:function(){var e=this,t=this.state.form,n=ndpi.i18n;return(0,u.jsx)("div",{className:"pi-overlay",children:(0,u.jsxs)("div",{className:"pi-modal-content pi-modal-sidebar pi-modal-sidebar-two",ref:this.myRef,children:[(0,u.jsxs)("div",{className:"pi-modal-header pi-gradient",children:[(0,u.jsx)("span",{className:"pi-close",onClick:function(){return e.props.close()},children:(0,u.jsxs)("svg",{width:25,height:25,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,u.jsxs)("div",{className:"pi-small-button-group",children:[t.id&&(0,u.jsx)(w.Z,{onChange:this.handleTaskStatusChange,id:t.id,data:t.status_id,taxonomy:"task_status",title:"Status",color:!0},t.status_id.id),t.status_id&&"done"!=t.status_id.type&&(0,u.jsxs)("button",{className:"pi-btn pi-btn-medium pi-float-right pi-bg-green",onClick:function(){return e.handleTaskStatusChange("done")},children:[(0,u.jsx)("svg",{width:13,height:10,viewBox:"0 0 13 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M11.5 1.5L4.5 8.5L1 5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),n.markdone]})]})]}),(0,u.jsx)("div",{className:"pi-content",children:(0,u.jsxs)("div",{className:"pi-form-style-one",children:[(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col-lg",children:[(0,u.jsx)("label",{htmlFor:"title",children:n.title}),(0,u.jsx)("input",{id:"title",className:"pi-title-field",type:"text",name:"title",value:t.title,onChange:this.handleChange})]})}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md",children:[(0,u.jsxs)("label",{htmlFor:"field-start_date",children:[n.start," ",n.date]}),(0,u.jsx)("div",{className:"pi-field-date",children:(0,u.jsx)(T,{date:t.start_date,type:"date",onDateChange:this.onDateChange})})]}),(0,u.jsxs)("div",{className:"col-md",children:[(0,u.jsxs)("label",{htmlFor:"field-start_date",children:[n.due," ",n.date]}),(0,u.jsx)("div",{className:"pi-field-date",children:(0,u.jsx)(T,{date:t.due_date,type:"due_date",onDateChange:this.onDateChange})})]})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsx)("label",{htmlFor:"form-desc",children:"Task Type:"}),(0,u.jsx)("div",{className:"pi-field-action",children:t.id&&(0,u.jsx)(w.Z,{id:t.id,data:t.type_id,taxonomy:"task_type",title:"Type",color:!0})})]}),(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsx)("label",{htmlFor:"form-desc",children:"Task Priority:"}),(0,u.jsx)("div",{className:"pi-field-action",children:t.id&&(0,u.jsx)(w.Z,{id:t.id,data:t.priority_id,taxonomy:"task_priority",title:"Priority",color:!0})})]})]}),(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col-lg",children:[(0,u.jsx)("label",{htmlFor:"name",children:"Meeting Place or Link"}),(0,u.jsx)("input",{type:"text",id:"name",name:"name",defaultValue:"Add Location"}),!1]})}),(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col",children:[(0,u.jsx)("label",{htmlFor:"form-desc",children:"Description"}),(0,u.jsx)("textarea",{id:"form-desc",name:"desc",value:t.desc,onChange:this.handleChange})]})}),(0,u.jsx)("div",{className:"row",children:(0,u.jsxs)("div",{className:"col",children:[(0,u.jsx)("label",{htmlFor:"form-note",children:"Note"}),(0,u.jsx)("textarea",{id:"form-note",name:"note",value:t.note,onChange:this.handleChange})]})}),(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col",children:(0,u.jsx)(B,{data:this.state.form.checklist,changeHandler:this.handleChecklistChange})})})]})})]})})}}]),n}(s.Component);const Y=(0,c.Z)(V);var A=n(94803),I=n.n(A),W=n(9258);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e){return e.tableData.map((function(t,n){var i=-1!==e.checkedBoxes.data.indexOf(t.id);return(0,u.jsxs)("div",{className:"pi-accordion-table-list "+(e.dashboard?"pi-mt-15 pi-mb-15":""),children:[!e.dashboard&&(0,u.jsx)("div",{className:"pi-checkbox",children:(0,u.jsx)("input",{type:"checkbox",value:t.id,checked:i,onChange:function(n){return e.checkedBoxes.handle(n,"single",t.id)}})}),(0,u.jsxs)("ul",{style:{padding:e.dashboard?"16px 10px 9px 0px":""},children:[(0,u.jsxs)("li",{style:{width:"45%"},className:"pi-cursor-pointer",onClick:function(){return e.editEntry("edit",t)},children:[(0,u.jsxs)("div",{className:"pi-task-type "+(e.dashboard?"pi-mt-10":""),children:[t.type_id.icon&&(0,u.jsx)("img",{src:t.type_id.icon.src}),!t.type_id.icon&&(0,u.jsx)("svg",{width:16,height:20,viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M5 3H3C2.46957 3 1.96086 3.21071 1.58579 3.58579C1.21071 3.96086 1 4.46957 1 5V17C1 17.5304 1.21071 18.0391 1.58579 18.4142C1.96086 18.7893 2.46957 19 3 19H13C13.5304 19 14.0391 18.7893 14.4142 18.4142C14.7893 18.0391 15 17.5304 15 17V5C15 4.46957 14.7893 3.96086 14.4142 3.58579C14.0391 3.21071 13.5304 3 13 3H11M5 3C5 3.53043 5.21071 4.03914 5.58579 4.41421C5.96086 4.78929 6.46957 5 7 5H9C9.53043 5 10.0391 4.78929 10.4142 4.41421C10.7893 4.03914 11 3.53043 11 3M5 3C5 2.46957 5.21071 1.96086 5.58579 1.58579C5.96086 1.21071 6.46957 1 7 1H9C9.53043 1 10.0391 1.21071 10.4142 1.58579C10.7893 1.96086 11 2.46957 11 3M5 12L7 14L11 10",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),(0,u.jsxs)("div",{className:"pi-task-type-text",children:[(0,u.jsx)("h4",{children:t.title}),(0,u.jsxs)("p",{children:[(0,u.jsxs)("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M6 10.5C8.48528 10.5 10.5 8.48528 10.5 6C10.5 3.51472 8.48528 1.5 6 1.5C3.51472 1.5 1.5 3.51472 1.5 6C1.5 8.48528 3.51472 10.5 6 10.5Z",stroke:"#718096",strokeMiterlimit:10}),(0,u.jsx)("path",{d:"M6 3.375V6H8.625",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]}),t.start_date&&(0,u.jsx)(I(),{format:"YYYY-MM-DD",children:t.start_date}),t.start_date&&t.due_date&&" - ",t.due_date&&(0,u.jsx)(I(),{format:"YYYY-MM-DD",children:t.due_date})]})]})]}),(0,u.jsx)("li",{style:{width:"20%"},children:(0,u.jsx)(w.Z,{id:t.id,data:t.status_id,list:e.taxonomies.status,taxonomy:"task_status",title:"Status",small:!0,color:!0},t.id)}),(0,u.jsx)("li",{style:{width:"20%"},children:(0,u.jsx)(w.Z,{id:t.id,data:t.priority_id,list:e.taxonomies.priorities,taxonomy:"task_priority",title:"Priority",small:!0,color:!0},t.id)}),(0,u.jsx)("li",{children:(0,u.jsx)(W.Z,{row:t,editEntry:e.editEntry,deleteEntry:e.deleteEntry})})]})]},n)}))};const K=function(e){return(0,u.jsx)(u.Fragment,{children:e.tableData.length>0&&(0,u.jsx)("div",{className:"pi-table-wrap pi-p-m",children:(0,u.jsx)("div",{className:"pi-accordion-table-list-area",children:(0,u.jsx)(z,U({},e))})})})};var J=(0,n(14994).Z)((function(e){(0,s.useEffect)((function(){e.getLists()}),[]);var t,n,o=(0,s.useState)(null),l=(0,i.Z)(o,2),c=l[0],d=l[1],h=(0,s.useState)({status:[],types:[],priorities:[]}),p=(0,i.Z)(h,2),f=p[0],m=p[1],v=e.state,j=v.lists,g=v.checkedBoxes,k=v.searchVal,y=!1;j.hasOwnProperty("today")&&(j.today.length>0&&(t=!0),!j.today.length&&j.other.length>0&&(n=!0),!j.today.length&&!j.other.length&&j.unschedule.length>0&&(y=!0));var b=function(t,n){confirm("Are you sure, to delete it?")&&e.remove("tasks",n).then((function(t){t.data.success?(r.Am.success("Successfully deleted"),e.getLists({status_id:c})):t.data.data.forEach((function(e,t,n){r.Am.error(e)}))}))};return(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)(x,{handleSubmit:e.handleSubmit,setTaxonomies:m,tab_id:e.tab_id}),e.state.formModal&&(0,u.jsx)(Y,{tab_id:e.tab_id,reload:e.getLists,taxonomies:f,handleSubmit:e.handleSubmit,modalType:e.state.formModalType,data:e.state.list,close:e.closeForm}),!e.dashboard&&(0,u.jsxs)("div",{className:"pi-small-button-group",children:[(0,u.jsx)("h3",{className:"pi-title-small",children:"My Work"}),j.task_status&&j.task_status.map((function(t,n){return(0,u.jsx)("button",{className:"pi-btn pi-btn-small pi-bg-stroke pi-bg-hover-shadow "+(c==t.id||!c&&0==n?"pi-active":""),onClick:function(){d(t.id),e.getLists({status_id:t.id})},children:t.label},n)}))]}),e.state.preloader?(0,u.jsx)(a.Z,{}):(0,u.jsxs)(u.Fragment,{children:[e.dashboard&&(0,u.jsx)("div",{style:{marginTop:"15px"}}),e.dashboard&&(0,u.jsx)(K,{dashboard:!0,tableData:j.latest,taxonomies:f,searchVal:k,editEntry:e.openForm,checkedBoxes:{data:g,handle:e.handleCheckbox},handleSubmit:e.handleSubmit,deleteEntry:b}),!e.dashboard&&(0,u.jsxs)("div",{className:"pi-accordion",children:[j.today.length>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{type:"radio",name:"pi-accordion",defaultChecked:t,id:"pi-task-today"}),(0,u.jsxs)("section",{className:"pi-accordion-table",children:[(0,u.jsxs)("label",{className:"pi-accordion-title",htmlFor:"pi-task-today",children:[(0,u.jsx)("span",{className:"pi-down-angle",children:(0,u.jsx)("svg",{width:11,height:7,viewBox:"0 0 11 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M9.72339 1.53915L5.72339 5.53915L1.72339 1.53915",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,u.jsx)("b",{children:"Today"})]}),(0,u.jsx)("label",{className:"pi-table-close",htmlFor:"pi-acc-close"}),(0,u.jsx)("div",{className:"pi-accordion-content",children:(0,u.jsx)(K,{tableData:j.today,taxonomies:f,searchVal:k,editEntry:e.openForm,checkedBoxes:{data:g,handle:e.handleCheckbox},handleSubmit:e.handleSubmit,deleteEntry:b})})]})]}),j.other.length>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{type:"radio",name:"pi-accordion",defaultChecked:n,id:"pi-task-other"}),(0,u.jsxs)("section",{className:"pi-accordion-table",children:[(0,u.jsxs)("label",{className:"pi-accordion-title",htmlFor:"pi-task-other",children:[(0,u.jsx)("span",{className:"pi-down-angle",children:(0,u.jsx)("svg",{width:11,height:7,viewBox:"0 0 11 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M9.72339 1.53915L5.72339 5.53915L1.72339 1.53915",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,u.jsx)("b",{children:"Others Day"})]}),(0,u.jsx)("label",{className:"pi-table-close",htmlFor:"pi-acc-close"}),(0,u.jsx)("div",{className:"pi-accordion-content",children:(0,u.jsx)(K,{tableData:j.other,taxonomies:f,searchVal:k,editEntry:e.openForm,checkedBoxes:{data:g,handle:e.handleCheckbox},deleteEntry:b})})]})]}),j.unschedule.length>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{type:"radio",name:"pi-accordion",defaultChecked:y,id:"pi-task-unschedule"}),(0,u.jsxs)("section",{className:"pi-accordion-table",children:[(0,u.jsxs)("label",{className:"pi-accordion-title",htmlFor:"pi-task-unschedule",children:[(0,u.jsx)("span",{className:"pi-down-angle",children:(0,u.jsx)("svg",{width:11,height:7,viewBox:"0 0 11 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M9.72339 1.53915L5.72339 5.53915L1.72339 1.53915",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,u.jsx)("b",{children:"Unschedule"})]}),(0,u.jsx)("label",{className:"pi-table-close",htmlFor:"pi-acc-close"}),(0,u.jsx)("div",{className:"pi-accordion-content",children:(0,u.jsx)(K,{tableData:j.unschedule,taxonomies:f,searchVal:k,editEntry:e.openForm,checkedBoxes:{data:g,handle:e.handleCheckbox},deleteEntry:b})})]})]}),(0,u.jsx)("input",{type:"radio",name:"pi-accordion",id:"pi-acc-close"})]})]})]})}),"task",ndpi.i18n.task);const X=(0,c.Z)(J)},14994:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(86854),s=n(15671),a=n(43144),r=n(97326),o=n(60136),l=n(82963),c=n(61120),d=n(4942),h=n(67294),u=n(72132),p=n(12754),f=n(9669),m=n.n(f),x=n(20915),v=n(85893);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var s=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,l.Z)(this,n)}}const y=function(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";l||(l=t+"s");var c=x.JW+l,f=function(t){(0,o.Z)(h,t);var l=k(h);function h(e){var t;return(0,s.Z)(this,h),t=l.call(this,e),(0,d.Z)((0,r.Z)(t),"getLists",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n={page:t.state.currentPage,per_page:t.state.perPage};t.props.tab_id&&(n.tab_id=t.props.tab_id),t.props.dashboard&&(n.dashboard=t.props.dashboard),t.props.module_id&&(n.module_id=t.props.module_id),e&&(e=Object.entries(e).reduce((function(e,t){var n=(0,i.Z)(t,2),s=n[0],a=n[1];return a?(e[s]=a,e):e}),{}),n=g(g({},n),e));var s=new URLSearchParams(n).toString(),a=m().get("".concat(c,"/?").concat(s));a.then((function(e){var n=e.data.data.result,i=e.data.data.total,s=!n.length;t.setState({lists:n,preloader:!1,empty:s,total:i,totalPage:Math.ceil(i/t.state.perPage)})}));return a})),(0,d.Z)((0,r.Z)(t),"handleSearch",(function(e){var n=e.target.value;t.setState({searchVal:n},(function(){t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.getLists({s:t.state.searchVal})}),300)}))})),(0,d.Z)((0,r.Z)(t),"showItem",(function(e){var n=e.target.value;t.setState({perPage:n},(function(){t.getLists()}))})),(0,d.Z)((0,r.Z)(t),"handleSubmit",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=t.state.formModalType;n&&(i=n),"new"==i?m().post(c,e,x.r).then((function(e){e.data.success?(t.setState({formModal:!1}),u.Am.success(t.context.CrudMsg.create),t.getLists()):e.data.data.forEach((function(e,t,n){u.Am.error(e)}))})):m().put("".concat(c,"/").concat(e.id),e,x.r).then((function(e){e.data.success?(t.setState({formModal:!1}),u.Am.success(t.context.CrudMsg.update),t.getLists()):e.data.data.forEach((function(e,t,n){u.Am.error(e)}))}))})),(0,d.Z)((0,r.Z)(t),"deleteEntry",(function(e,n){if(confirm(t.context.CrudMsg.confirm)){var i="single"==e?n:t.state.checkedBoxes.toString();m().delete("".concat(c,"/").concat(i),x.r).then((function(n){n.data.success?(u.Am.success(t.context.CrudMsg.delete),"single"!=e&&t.setState({checkedBoxes:[]}),t.getLists()):n.data.data.forEach((function(e,t,n){u.Am.error(e)}))}))}})),(0,d.Z)((0,r.Z)(t),"openForm",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"new"==e?t.setState({formModal:!0,formModalType:"new"}):(n.hasOwnProperty("start_date")&&n.start_date&&(n.start_date=new Date(n.start_date)),n.hasOwnProperty("due_date")&&n.due_date&&(n.due_date=new Date(n.due_date)),t.setState({formModal:!0,formModalType:"edit",list:n}))})),(0,d.Z)((0,r.Z)(t),"closeForm",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new";"new"==e?t.setState({formModal:!1}):t.setState({searchModal:!1})})),(0,d.Z)((0,r.Z)(t),"handleCheckbox",(function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=t.state.checkedBoxes;if("single"==n)e.target.checked?(s.push(i),t.setState({checkedBoxes:s})):(s.splice(s.indexOf(i),1),t.setState({checkedBoxes:s}));else if(e.target.checked){var a=[];t.state.lists.map((function(e){a.push(e.id)})),t.setState({checkedBoxes:a})}else t.setState({checkedBoxes:[]})})),(0,d.Z)((0,r.Z)(t),"handlePageClick",(function(e){var n=e.selected+1,i=n*t.state.perPage;t.setState({currentPage:n,offset:i},(function(){t.getLists()}))})),t.state={title:n,empty:!1,preloader:!0,formModal:!1,searchModal:!1,formModalType:"new",list:{id:null},lists:[],checkedBoxes:[],offset:0,perPage:10,total:1,totalPage:1,currentPage:1,searchVal:""},t.timeout=0,t}return(0,a.Z)(h,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this;return(0,v.jsx)(e,g(g({},this.props),{},{state:this.state,openForm:this.openForm,closeForm:this.closeForm,showItem:this.showItem,getLists:this.getLists,handleCheckbox:this.handleCheckbox,uncheckAll:function(){return t.setState({checkedBoxes:[]})},handleSubmit:this.handleSubmit,handleSearch:this.handleSearch,handlePageClick:this.handlePageClick,deleteEntry:this.deleteEntry}))}}]),h}(h.Component);return f.contextType=p.Z,f}}}]);