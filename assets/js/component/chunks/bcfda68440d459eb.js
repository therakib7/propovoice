"use strict";(self.webpackChunkpropovoice=self.webpackChunkpropovoice||[]).push([[2285],{4295:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(9669),s=n.n(r),a=n(20915),i=a.JW+"payment-process";const o={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s().get("".concat(i,"/?").concat(e))},create:function(e){return s().post(i,e,a.r)}}},22285:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(15671),s=n(43144),a=n(97326),i=n(60136),o=n(82963),c=n(61120),l=n(4942),d=n(67294),p=n(72132),h=n(55983),u=n(4295),m=n(85893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var s=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}const y=function(e){(0,i.Z)(n,e);var t=j(n);function n(e){var s;return(0,r.Z)(this,n),s=t.call(this,e),(0,l.Z)((0,a.Z)(s),"handleChange",(function(e){var t=e.target,n=t.name,r=t.value;s.setState({form:v(v({},s.state.form),{},(0,l.Z)({},n,r))})})),(0,l.Z)((0,a.Z)(s),"handleSubmit",(function(e){e.preventDefault();var t=v({},s.state.form);u.Z.create(t).then((function(e){e.data.success?(s.props.close(),s.props.handleSubmit("paid_req"),p.Am.success("Thanks for payment request")):e.data.data.forEach((function(e,t,n){p.Am.error(e)}))}))})),(0,l.Z)((0,a.Z)(s),"handleUploadChange",(function(e){var t=v({},s.state.form);t.receipt=e,s.setState({form:t})})),s.state={form:{invoice_id:null,payment_method:"bank",payment_details:"",receipt:null}},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=v({},this.state.form);e.invoice_id=this.props.invoice_id,this.setState({form:e})}},{key:"render",value:function(){var e=this;return(0,m.jsx)(m.Fragment,{children:this.props.show&&(0,m.jsx)("div",{className:"pi-overlay pi-show",children:(0,m.jsxs)("div",{className:"pi-modal-content",children:[(0,m.jsxs)("div",{className:"pi-modal-header pi-gradient",children:[(0,m.jsx)("span",{className:"pi-close",onClick:function(){return e.props.close()},children:(0,m.jsxs)("svg",{width:25,height:25,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.jsx)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,m.jsx)("h2",{className:"pi-modal-title",children:"Payment Info"}),(0,m.jsx)("p",{children:"Add payment info from here"})]}),(0,m.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,m.jsx)("div",{className:"pi-content",children:(0,m.jsxs)("div",{className:"pi-form-style-one",children:[(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col-lg",children:[(0,m.jsx)("label",{htmlFor:"form-payment_details",children:"Payment Details"}),(0,m.jsx)("textarea",{id:"form-payment_details",rows:4,name:"payment_details",value:this.state.form.payment_details,onChange:this.handleChange}),(0,m.jsx)("p",{className:"pi-field-desc",children:"Give your payment details here, Like: Name, Transection ID. etc"})]})}),(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col-md",children:[(0,m.jsx)("label",{htmlFor:"field-receipt",children:"Payment Receipt"}),(0,m.jsx)(h.Z,{label:"Upload",attach_type:"secret",permission:!0,library:!1,data:this.state.form.receipt,changeHandler:this.handleUploadChange})]})})]})}),(0,m.jsx)("div",{className:"pi-modal-footer",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col"}),(0,m.jsx)("div",{className:"col",children:(0,m.jsx)("button",{type:"submit",className:"pi-btn pi-bg-blue pi-bg-hover-blue pi-btn-big pi-float-right pi-color-white",children:"Payment"})})]})})]})]})})})}}]),n}(d.Component)}}]);